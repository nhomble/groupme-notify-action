:toc: macro
= groupme-notify-action

image:https://github.com/nhomble/groupme-notify-action/workflows/Linter/badge.svg[Linter]

[.lead]
a github action to send groupme messages

toc::[]

== Example

[source,yml]
----
name: groupme-notify
on: [push]

jobs:
  groupme:
    runs-on: ubuntu-latest
    name: notify
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: do notification
        uses: nhomble/groupme-notify-action@v0.2
        id: notification
        with:
          group: ${{ secrets.YOUR_GROUP_ID }}
          message: 'Test notification!'
          token: ${{ secrets.YOUR_API_KEY }}
----

== GroupMe Specifics
You will want to visit https://dev.groupme.com/docs/v3[GroupMe API] for two things:
1. Get your access token (and keep it a secret!)
2. Get the groupId

Given your groupId, you can get a list of all the groups you are a part of by doing:
[source,bash]
----
$ TOKEN=<from above>
$ curl \
    -H "Content-Type: application/json" \
    https://api.groupme.com/v3/groups?token=$TOKEN
----

What you care about is:
[source,json]
----
{
  "response": [
    {"id":  "<an id>", "...":  "..."},
    {"id":  "<another id>", "...":  "..."},
    {"id":  "<a third id>", "...":  "..."}
  ]
}
----